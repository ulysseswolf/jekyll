---
layout: post
title: "sort"
description: ""
categories: 
- python  
tags: [python]
---
{{ page.title }}
================

Quick Sort is a good choice when you have to sort a lot of elements. When you are working with smaller collections, Bucket Sort may be a better choice.
{% highlight python %}
def quick_sort(array):
	if len(array) <= 1:
		return array
	pivot = array[0]
	# 如果去重，去掉等号
	lower = [x for x in array[1:] if x <= pivot]
	higher = [x for x in array[1:] if x > pivot]
	return quick_sort(lower) + [pivot] + quick_sort(higher)


def qsort(L):
  if L == []: return []
	return qsort([x for x in L[1:] if x< L[0]]) + L[0:1] + \
				 qsort([x for x in L[1:] if x>=L[0]])


# 简单桶排序
def bucketsort(array):
    biggest = max(array)
    buckets = [[] for _ in range(biggest // 10 + 1)]

    print(len(buckets))
    for i in array:
        buckets[i // 10].append(i)
        print(buckets)

    for index, bucket in enumerate(buckets):
        buckets[index] = insertsort(bucket)

    return [x for bucket in buckets for x in bucket]


def insertsort(array):
    n = len(array)
    if len(array) <= 1: return array
    for i in range(n):
        for j in range(i, 0, -1):
            if array[j] < array[j-1]:
                array[j-1], array[j] = array[j], array[j-1]
    
    return array
# merge sort
def mergesort(seq):
    """归并排序"""
    if len(seq) <= 1:
        return seq
    mid = len(seq) / 2  # 将列表分成更小的两个列表
    # 分别对左右两个列表进行处理，分别返回两个排序好的列表
    left = mergesort(seq[:mid])
    right = mergesort(seq[mid:])
    # 对排序好的两个列表合并，产生一个新的排序好的列表
    return merge(left, right)

def merge(left, right):
    """合并两个已排序好的列表，产生一个新的已排序好的列表"""
    result = []  # 新的已排序好的列表
    i = 0  # 下标
    j = 0
    # 对两个列表中的元素 两两对比。
    # 将最小的元素，放到result中，并对当前列表下标加1
    while i < len(left) and j < len(right):
        if left[i] <= right[j]:
            result.append(left[i])
            i += 1
        else:
            result.append(right[j])
            j += 1
    result += left[i:]
    result += right[j:]
    return result

seq = [5,3,0,6,1,4]
print('排序前：',seq)
result = mergesort(seq)
print('排序后：',result)

{% endhighlight %}
